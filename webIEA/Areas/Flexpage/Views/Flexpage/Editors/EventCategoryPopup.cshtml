@model Flexpage.Abstract.DTO.EventCategoryEditorModel
@{
    Layout = "~/Areas/Flexpage/Views/Shared/_PopupLayout.cshtml";
}

<div id="calendar-block-edit">
    <div class="modal fade table-celendar-event-popup" id="flexpage-popup-control_1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" id="flexpage-modal-header_1">
                    <div id="add-event">
                        <div class="modal-title">
                            <h3 class="modal-title">Category</h3>
                        </div>
                    </div>
                    <button type="button" class="close" aria-label="Close" onclick="fp_beforeClosePopUp(this, 1)">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="flexpage-modal-body_1">
                    @Html.Partial("~/Areas/Flexpage/Views/Flexpage/Editors/EventCategory.cshtml", Model)
                </div>
                <div class="modal-footer" id="flexpage-modal-footer_1">
                    <div class="col-md-6 pull-left left">
                    </div>
                    <div class="col-md-6 pull-right right">
                        @*<a href="javascript:void(0)" id="saveCategory" style="color:#ffffff">SAVE</a>*@
                        @*<a href="javascript:void(0)" onclick="fp_saveBlock('@Model.IDPostfix', '@Model.BlocklistID', '@Model.BlockAfter', '@Model.Parameters')">
                            @(string.IsNullOrWhiteSpace(Model.OneButtonText) ? "SAVE" : Model.OneButtonText)
                        </a>*@
                        <a href="javascript:void(0)" aria-label="Close" onclick="fp_beforeClosePopUp(this, @Model.ID)" style="color:#ffffff">CANCEL</a>
                    </div>
                </div>
            </div>
            <div style="display: none; z-index: 1000; position: absolute;  top: 50%; left: 50%; transform: perspective(1px) translateY(-50%) translateX(-50%); text-align: center; width: 256px; height: 100px; opacity: 0.8; background-color: #23598e" id="pleaseWaitDiv">
                <span style="display: block; opacity: 1; color: #ffffff; font-size: x-large; padding-top: 33px">
                    Please, wait ...
                </span>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script type="text/javascript">
        $('.event-colorpicker').colorpicker({
        });

        //function fp_changeLanguage(langCode) {
        //    flexpageCalendar.changeLanguageCategory($("#HiddenInputCategory #ID").val(),langCode);
        //}

        $(function() {
            var popup=$('#flexpage-popup-control_1');

            $(window).on('load',
                function() {
                    popup.modal();
                });

            //$('.modal').on('show.bs.modal',flexpageCalendar.repositionEventPopup);

            //$(window).on('resize',function() {
            //    $('.modal:visible').each(flexpageCalendar.repositionEventPopup);
            //});
        });
    </script>
}
