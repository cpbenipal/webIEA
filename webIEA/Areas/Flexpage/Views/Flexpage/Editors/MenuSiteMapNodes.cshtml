@model Flexpage.Models.MenuModel

<script type="text/javascript">


</script>

@{
    int nodeCount = 1;
}
<div class="flexpage">
    @foreach (Flexpage.Models.MenuItemModel item in Model.Items)
    {
        string col = String.Empty;
        bool hasChild = false;
        if (item.SubMenu != null)
        {
            hasChild = true;
        }


        <div>
            <div class="panel panel-default">
                <div class="panel-heading  panel-page">
                    <h4 class="panel-title">

                        @if (hasChild)
                        {

                            col = "#menuNode" + @item.CurrentCounter;

                            <a class="panel-group">
                                <input class="form-check-input footitems" type="checkbox" id="@item.ResourceKey" parent="@item.CurrentCounter" name="footitems">
                            </a>
                            <a data-toggle="collapse" href="@col" class="align-box" aria-expanded="false">@item.Text <span class="pull-right"><i class="fas fa-chevron-down rotate"></i></span></a>
                        }
                        else
                        {
                            <a class="panel-group">
                                <input class="form-check-input footitems" type="checkbox" id="@item.ResourceKey" name="footitems">
                            </a>
                            <a data-toggle="collapse">
                                @item.Text
                            </a>
                        }
                    </h4>
                </div>
                @if (hasChild)
                {
                    col = "menuNode" + @item.CurrentCounter;
                    <div id="@col" class="panel-collapse collapse collapse-field-container" aria-expanded="false" style="">
                        @Html.Partial("~/Areas/Flexpage/Views/Flexpage/Editors/MenuSiteMapSubNodes.cshtml", item.SubMenu)
                    </div>
                }
            </div>
        </div>
    }
</div>

